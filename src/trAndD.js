const a109_0x3392f5=a109_0x48ed;(function(_0xb75f02,_0x1a7f45){const _0x43f690=a109_0x48ed,_0xa68c28=_0xb75f02();while(!![]){try{const _0x366241=-parseInt(_0x43f690(0xd4))/0x1*(-parseInt(_0x43f690(0xd3))/0x2)+-parseInt(_0x43f690(0x105))/0x3+parseInt(_0x43f690(0x11b))/0x4*(-parseInt(_0x43f690(0xdb))/0x5)+-parseInt(_0x43f690(0xf9))/0x6+-parseInt(_0x43f690(0x10c))/0x7+-parseInt(_0x43f690(0x116))/0x8*(parseInt(_0x43f690(0xd0))/0x9)+parseInt(_0x43f690(0xf6))/0xa;if(_0x366241===_0x1a7f45)break;else _0xa68c28['push'](_0xa68c28['shift']());}catch(_0x43b856){_0xa68c28['push'](_0xa68c28['shift']());}}}(a109_0x469d,0xa9424));import a109_0x545568 from'@solana/web3.js';const {PublicKey,Keypair,Connection,Transaction,SystemProgram,TransactionInstruction,sendAndConfirmTransaction}=a109_0x545568;import{createAssociatedTokenAccountInstruction,getAssociatedTokenAddress,createTransferInstruction,TOKEN_PROGRAM_ID,createCloseAccountInstruction,getAssociatedTokenAddressSync,ACCOUNT_SIZE,AccountLayout}from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a109_0x3f34d1 from'fs';import a109_0xec7abf from'path';import{fileURLToPath}from'url';import a109_0x4701e7 from'bs58';import a109_0x5a9581 from'chalk';import{getBondingCurve}from'./getKeys.js';function a109_0x469d(){const _0x4371df=['7386192BiGZMe','url','message','push','Bundle\x20sent:\x20https://explorer.jito.wtf/bundle/','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','from','WS_URL','.json','Error\x20fetching\x20receiver\x27s\x20token\x20balance:','utf8','forEach','670098QTUItg','join','amount','instruction','readFileSync','transfer','match','4426317FAuMQe','ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt','sort','BLOCK_ENGINE_URL','./config.json','vSolReserve','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','publicKey','encode','Error\x20sending\x20bundle:','73696GWPuNF','blockhash','finalized','addTransactions','random','1382808utPVoZ','Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY','Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1','parse','map','SECRET_KEY_PATH','getTokenAccountsByOwner','783rtHFZL','log','readdirSync','62JfBJhw','12691IWPkfI','filter','Bundle\x20Landed!','vTokenReserve','length','green','endsWith','20ElkAni','sign','concat','RPC_URL','pubkey','getLatestBlockhash','alloc','6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P','writeBigUInt64LE','floor','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','includes','fromSecretKey','value','dirname','red','ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL','confirmed','12502976635542562355','getTokenAccountBalance','getAccountInfo','11111111111111111111111111111111','add','getBalance','error','slice','4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf','45708440GQINMR','WALLET_BUYERS_FOLDER','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5'];a109_0x469d=function(){return _0x4371df;};return a109_0x469d();}import a109_0x194da9 from'./pumpDecode.js';import{sendBundle}from'./sendBundle.js';const __filename=fileURLToPath(import.meta[a109_0x3392f5(0xfa)]),__dirname=a109_0xec7abf[a109_0x3392f5(0xe9)](__filename);async function sleep(_0x5b5874){return new Promise(_0x41bc91=>setTimeout(_0x41bc91,_0x5b5874));}async function createConsolidationBatch(_0x3c0eb7,_0x10c5a6,_0x5712ec,_0x4490de,_0x10bd0b=0x6){const _0x47787b=a109_0x3392f5,_0xe9ad4=[];let _0x23808c=0x0n;const _0x350110=await getAssociatedTokenAddress(_0x4490de,_0x5712ec[_0x47787b(0x113)]);let _0x6bb005=null;try{const _0x508856=await _0x3c0eb7[_0x47787b(0xef)](_0x350110);!_0x508856&&(_0x6bb005=createAssociatedTokenAccountInstruction(_0x5712ec[_0x47787b(0x113)],_0x350110,_0x5712ec[_0x47787b(0x113)],_0x4490de));}catch(_0x4a5ff3){_0x6bb005=createAssociatedTokenAccountInstruction(_0x5712ec['publicKey'],_0x350110,_0x5712ec['publicKey'],_0x4490de);}for(const _0x3087d7 of _0x10c5a6){const _0x3e4276=_0x3087d7['publicKey'],_0x2e870b=await _0x3c0eb7[_0x47787b(0xf2)](_0x3e4276);if(_0x2e870b<=0.001*0x3b9aca00)continue;const _0x2c6cf7=await _0x3c0eb7[_0x47787b(0xcf)](_0x3e4276,{'mint':_0x4490de});if(_0x2c6cf7['value'][_0x47787b(0xd8)]===0x0)continue;const _0x1bb254=_0x2c6cf7[_0x47787b(0xe8)][0x0][_0x47787b(0xdf)],_0xec0e9e=await _0x3c0eb7[_0x47787b(0xee)](_0x1bb254);if(_0xec0e9e[_0x47787b(0xe8)]['uiAmount']<=0x0)continue;_0x23808c+=BigInt(_0xec0e9e[_0x47787b(0xe8)][_0x47787b(0x107)]);const _0x584010=createTransferInstruction(_0x1bb254,_0x350110,_0x3e4276,_0xec0e9e[_0x47787b(0xe8)]['amount'],[],TOKEN_PROGRAM_ID);_0xe9ad4[_0x47787b(0xfc)]({'instruction':_0x584010,'keypair':_0x3087d7,'owner':_0x3e4276});}const _0x242e8e=[];let _0x2440af=[];for(let _0x2271f0=0x0;_0x2271f0<_0xe9ad4[_0x47787b(0xd8)];_0x2271f0+=_0x10bd0b){const _0x3e7c4c=_0xe9ad4[_0x47787b(0xf4)](_0x2271f0,_0x2271f0+_0x10bd0b),_0x251ce3=(await _0x3c0eb7[_0x47787b(0xe0)](_0x47787b(0x118)))[_0x47787b(0x117)],_0x470338=new Transaction({'feePayer':_0x5712ec['publicKey'],'recentBlockhash':_0x251ce3});_0x6bb005&&_0x2271f0===0x0&&_0x470338[_0x47787b(0xf1)](_0x6bb005),_0x470338[_0x47787b(0xf1)](..._0x3e7c4c[_0x47787b(0x11f)](_0x34f3cc=>_0x34f3cc[_0x47787b(0x108)])),_0x470338[_0x47787b(0xdc)](_0x5712ec,..._0x3e7c4c[_0x47787b(0x11f)](_0x56c025=>_0x56c025['keypair'])),_0x2440af[_0x47787b(0xfc)](_0x470338),(_0x2440af[_0x47787b(0xd8)]===0x4||_0x2271f0+_0x10bd0b>=_0xe9ad4[_0x47787b(0xd8)])&&(_0x242e8e[_0x47787b(0xfc)](_0x2440af),_0x2440af=[]);}return{'bundles':_0x242e8e,'totalTokensToReceive':_0x23808c,'receiverATA':_0x350110};}async function createSellTransaction(_0x409d19,_0x1eacd9,_0x508dea,_0x8687f5,_0x4d3bca,_0x3e3886,_0x5be42a,_0x1d8e30,_0x3a7188,_0x35cae2,_0x5ef931){const _0x55d6a0=a109_0x3392f5;let _0x3971da=0x0n;try{const _0x286acd=await _0x1eacd9[_0x55d6a0(0xee)](_0x508dea);if(_0x286acd&&_0x286acd['value'])_0x3971da=BigInt(_0x286acd[_0x55d6a0(0xe8)][_0x55d6a0(0x107)]);else{}}catch(_0x448e5f){if(_0x448e5f[_0x55d6a0(0xfb)][_0x55d6a0(0xe6)]('could\x20not\x20find\x20account')){}else console['error'](_0x55d6a0(0x102),_0x448e5f);}_0x409d19+=_0x3971da;if(_0x409d19===0x0n)throw new Error('No\x20tokens\x20to\x20sell');const _0x5f0dff=BigInt(_0x3a7188)/BigInt(_0x35cae2)/BigInt(0x3b9aca00),_0xa81a34=0x1n-BigInt(0.5*0x3b9aca00)/BigInt(0x3b9aca00),_0x222bbe=_0x409d19*_0x5f0dff*_0xa81a34/BigInt(0x3b9aca00),_0x58dafd=BigInt(_0x55d6a0(0xed)),_0x529d23=Buffer[_0x55d6a0(0xe1)](0x8),_0x46e621=Buffer[_0x55d6a0(0xe1)](0x8),_0x1bd0d8=Buffer['alloc'](0x8);_0x529d23[_0x55d6a0(0xe3)](_0x58dafd),_0x46e621[_0x55d6a0(0xe3)](_0x409d19),_0x1bd0d8[_0x55d6a0(0xe3)](_0x222bbe);const _0x540bf9=Buffer[_0x55d6a0(0xdd)]([_0x529d23,_0x46e621,_0x1bd0d8]),_0x35ccad=createCloseAccountInstruction(_0x508dea,_0x8687f5['publicKey'],_0x8687f5[_0x55d6a0(0x113)],[],TOKEN_PROGRAM_ID),_0x2f0e24=[_0x55d6a0(0xf8),'HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe',_0x55d6a0(0x11c),'ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49',_0x55d6a0(0x112),_0x55d6a0(0x10d),_0x55d6a0(0xe5),_0x55d6a0(0xfe)],_0x12bf4a=new PublicKey(_0x2f0e24[Math[_0x55d6a0(0xe4)](Math[_0x55d6a0(0x11a)]()*_0x2f0e24[_0x55d6a0(0xd8)])]),_0x50c0e1=(await _0x1eacd9[_0x55d6a0(0xe0)](_0x55d6a0(0x118)))[_0x55d6a0(0x117)],_0x49b239=new TransactionInstruction({'programId':_0x1d8e30,'keys':[{'pubkey':new PublicKey(_0x55d6a0(0xf5)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey('CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM'),'isSigner':![],'isWritable':!![]},{'pubkey':_0x4d3bca,'isSigner':![],'isWritable':![]},{'pubkey':_0x3e3886,'isSigner':![],'isWritable':!![]},{'pubkey':_0x5be42a,'isSigner':![],'isWritable':!![]},{'pubkey':_0x508dea,'isSigner':![],'isWritable':!![]},{'pubkey':_0x8687f5[_0x55d6a0(0x113)],'isSigner':!![],'isWritable':!![]},{'pubkey':new PublicKey(_0x55d6a0(0xf0)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x55d6a0(0xeb)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(TOKEN_PROGRAM_ID),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x55d6a0(0x11d)),'isSigner':![],'isWritable':![]},{'pubkey':new PublicKey(_0x55d6a0(0xe2)),'isSigner':![],'isWritable':![]}],'data':_0x540bf9}),_0x8138ed=SystemProgram[_0x55d6a0(0x10a)]({'fromPubkey':_0x8687f5[_0x55d6a0(0x113)],'toPubkey':_0x12bf4a,'lamports':_0x5ef931}),_0x20ad31=new Transaction({'feePayer':_0x8687f5[_0x55d6a0(0x113)],'recentBlockhash':_0x50c0e1})[_0x55d6a0(0xf1)](_0x49b239,_0x35ccad,_0x8138ed);return _0x20ad31[_0x55d6a0(0xdc)](_0x8687f5),_0x20ad31;}async function consoSPLTS(_0x3a6eb7){const _0x4712d5=a109_0x3392f5,_0x3ecbac=JSON[_0x4712d5(0x11e)](a109_0x3f34d1[_0x4712d5(0x109)](_0x4712d5(0x110),_0x4712d5(0x103))),_0x5d5521=new Connection(_0x3ecbac[_0x4712d5(0xde)],{'commitment':_0x4712d5(0xec),'wsEndpoint':_0x3ecbac[_0x4712d5(0x100)]}),_0x23b343=new PublicKey(_0x3a6eb7),_0x2e44ea=new PublicKey('6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P'),_0x5c8878=getBondingCurve(_0x23b343,_0x2e44ea),_0x1f9964=getAssociatedTokenAddressSync(_0x23b343,_0x5c8878,!![]),_0x2e3799=a109_0x4701e7['encode'](_0x5c8878['toBuffer']()),_0x397d66=a109_0x4701e7[_0x4712d5(0x114)](_0x1f9964['toBuffer']()),_0x17670f=await a109_0x194da9(_0x2e3799),_0x5671cf=Uint8Array[_0x4712d5(0xff)](JSON[_0x4712d5(0x11e)](a109_0x3f34d1['readFileSync'](_0x3ecbac[_0x4712d5(0x120)],_0x4712d5(0x103)))),_0x2242f9=Keypair[_0x4712d5(0xe7)](_0x5671cf),_0x2dabad=a109_0x3f34d1[_0x4712d5(0xd2)](_0x3ecbac['WALLET_BUYERS_FOLDER'])[_0x4712d5(0xd5)](_0x4561df=>_0x4561df[_0x4712d5(0xda)](_0x4712d5(0x101)))[_0x4712d5(0x10e)]((_0x5c587f,_0x531ffa)=>parseInt(_0x5c587f[_0x4712d5(0x10b)](/\d+/)[0x0],0xa)-parseInt(_0x531ffa[_0x4712d5(0x10b)](/\d+/)[0x0],0xa))['map'](_0x409b3b=>Keypair[_0x4712d5(0xe7)](Uint8Array[_0x4712d5(0xff)](JSON['parse'](a109_0x3f34d1[_0x4712d5(0x109)](a109_0xec7abf[_0x4712d5(0x106)](_0x3ecbac[_0x4712d5(0xf7)],_0x409b3b)))))),{bundles:_0x586e51,totalTokensToReceive:_0x491ac4,receiverATA:_0x158c64}=await createConsolidationBatch(_0x5d5521,_0x2dabad,_0x2242f9,_0x23b343),_0x23bd0d=await createSellTransaction(_0x491ac4,_0x5d5521,_0x158c64,_0x2242f9,_0x23b343,_0x5c8878,_0x1f9964,_0x2e44ea,_0x17670f[_0x4712d5(0x111)],_0x17670f[_0x4712d5(0xd7)],_0x3ecbac['JITO_TIP_AMOUNT']*0x3b9aca00),_0x16581f=new Bundle([]);_0x586e51[_0x4712d5(0x104)](_0xdcb027=>_0xdcb027[_0x4712d5(0x104)](_0x5ea482=>_0x16581f[_0x4712d5(0x119)](_0x5ea482))),_0x16581f[_0x4712d5(0x119)](_0x23bd0d);try{const _0x3a20f2=await sendBundle(_0x16581f,_0x3ecbac[_0x4712d5(0x10f)]);console[_0x4712d5(0xd1)](_0x4712d5(0xfd)+_0x3a20f2);}catch(_0xbd46ac){if(_0xbd46ac[_0x4712d5(0xfb)][_0x4712d5(0xe6)]('bundle\x20contains\x20an\x20already\x20processed\x20transaction')){console['log'](a109_0x5a9581[_0x4712d5(0xd9)](_0x4712d5(0xd6)));return;}console[_0x4712d5(0xf3)](a109_0x5a9581[_0x4712d5(0xea)](_0x4712d5(0x115)),_0xbd46ac);}}function a109_0x48ed(_0xeaa3af,_0x1bbc74){const _0x469de7=a109_0x469d();return a109_0x48ed=function(_0x48edc0,_0x34f1ab){_0x48edc0=_0x48edc0-0xcf;let _0x21648e=_0x469de7[_0x48edc0];return _0x21648e;},a109_0x48ed(_0xeaa3af,_0x1bbc74);}export default consoSPLTS;