(function(_0x4d8a7a,_0x9df039){const _0x3540b1=a82_0x57a5,_0x4e85db=_0x4d8a7a();while(!![]){try{const _0xdc233f=-parseInt(_0x3540b1(0xea))/0x1*(parseInt(_0x3540b1(0xf7))/0x2)+parseInt(_0x3540b1(0x123))/0x3+-parseInt(_0x3540b1(0x10c))/0x4*(parseInt(_0x3540b1(0xe5))/0x5)+-parseInt(_0x3540b1(0x10f))/0x6*(-parseInt(_0x3540b1(0x10e))/0x7)+parseInt(_0x3540b1(0xdf))/0x8*(parseInt(_0x3540b1(0x102))/0x9)+parseInt(_0x3540b1(0xeb))/0xa*(-parseInt(_0x3540b1(0xe7))/0xb)+parseInt(_0x3540b1(0xef))/0xc;if(_0xdc233f===_0x9df039)break;else _0x4e85db['push'](_0x4e85db['shift']());}catch(_0x4d5cd3){_0x4e85db['push'](_0x4e85db['shift']());}}}(a82_0x4aeb,0x78b27));import{PublicKey,Keypair,Connection,TransactionMessage,VersionedTransaction,SystemProgram,TransactionInstruction}from'@solana/web3.js';import{TOKEN_PROGRAM_ID,createCloseAccountInstruction}from'@solana/spl-token';import{searcherClient}from'jito-ts/dist/sdk/block-engine/searcher.js';import{Bundle}from'jito-ts/dist/sdk/block-engine/types.js';import a82_0x3c3e36 from'bs58';function a82_0x4aeb(){const _0x1633fe=['amount','185008eMZTUc','3918580ItPYnF','includes','getTokenAccountBalance','publicKey','9450456GSBpzw','slice','map','random','confirmed','DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh','encode','log','4KjnjxV','getTokenAccountsByOwner','Found\x20','compileToV0Message','yellow','RPC_URL','Processing\x20wallet\x20','JITO_TIP_AMOUNT','No\x20zero\x20balance\x20accounts\x20found\x20for\x20any\x20wallet.','length','\x20of\x20','27tSBpBD','\x20token\x20accounts\x20for\x20wallet:\x20','toString','payer','3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT','Processing\x20batch\x20','finalized','data','parse','Delaying\x20before\x20processing\x20next\x20batch...','4ESvyVh','existsSync','7GTHzcV','4311732RVaLSO','\x20zero\x20balance\x20token\x20accounts\x20after\x20processing\x20wallet:\x20','Error\x20sending\x20bundle:','error','WS_URL','green','Total\x20of\x20','ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt','push','transfer','No\x20token\x20accounts\x20with\x20zero\x20balance\x20to\x20close.','pubKey','from','96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5','bundle\x20contains\x20an\x20already\x20processed\x20transaction','Secret\x20key\x20file\x20','HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe','sign','ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49','SECRET_KEY_PATH','304821gtmrEN','readFileSync','\x20-\x20Balance:\x200','fromSecretKey','JITO_TIP_SECRET_KEY','addTransactions','Confirm\x20Bundle\x20Manually\x20(JITO):\x20https://explorer.jito.wtf/bundle/','pubkey','\x20batches\x20will\x20be\x20processed.','.json','Token\x20Account:\x20','exit','value','Transaction\x20added\x20to\x20bundle','Error\x20getting\x20balance\x20for\x20token\x20account\x20','secretKey','SENDER','DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL','toBase58','1033264IeQWkZ','decode','WALLET_BUYERS_FOLDER','Bundle\x20Landed!','floor','Processing\x20times\x20may\x20be\x20slow...\x0a','3694960Epjruv','utf8','11NMLsKf','account'];a82_0x4aeb=function(){return _0x1633fe;};return a82_0x4aeb();}import a82_0x5e5fe6 from'chalk';import a82_0x48ef50 from'fs';function a82_0x57a5(_0x13350d,_0x44e372){const _0x4aeb1c=a82_0x4aeb();return a82_0x57a5=function(_0x57a5c0,_0x5146e6){_0x57a5c0=_0x57a5c0-0xdd;let _0x235876=_0x4aeb1c[_0x57a5c0];return _0x235876;},a82_0x57a5(_0x13350d,_0x44e372);}import a82_0x5bfb67 from'path';import{sendBundle,sendBundle2}from'./sendBundle.js';async function loadConfig(){const _0x1b2e00=a82_0x57a5;return JSON[_0x1b2e00(0x10a)](a82_0x48ef50['readFileSync']('./config.json',_0x1b2e00(0xe6)));}async function loadWallets(){const _0x20c5bc=a82_0x57a5,_0xacff12=await loadConfig(),_0x2955fa=_0xacff12[_0x20c5bc(0xe1)],_0x587d62=[];for(let _0x889ee7=0x1;_0x889ee7<=0x14;_0x889ee7++){const _0x1ada16=a82_0x5bfb67['join'](_0x2955fa,'wallet'+_0x889ee7+_0x20c5bc(0x12c));if(a82_0x48ef50[_0x20c5bc(0x10d)](_0x1ada16)){const _0x2ffb64=Uint8Array['from'](JSON[_0x20c5bc(0x10a)](a82_0x48ef50['readFileSync'](_0x1ada16,'utf8'))),_0x173b53=Keypair['fromSecretKey'](_0x2ffb64);_0x587d62[_0x20c5bc(0x117)]({'pubKey':_0x173b53[_0x20c5bc(0xee)][_0x20c5bc(0x104)](),'privKey':a82_0x3c3e36[_0x20c5bc(0xf5)](_0x173b53[_0x20c5bc(0x132)])});}}return _0x587d62;}async function loadDevWallet(_0x1d7a68){const _0xf8acf9=a82_0x57a5;if(a82_0x48ef50[_0xf8acf9(0x10d)](_0x1d7a68)){const _0x3a6650=Uint8Array[_0xf8acf9(0x11b)](JSON[_0xf8acf9(0x10a)](a82_0x48ef50[_0xf8acf9(0x124)](_0x1d7a68,_0xf8acf9(0xe6))));return Keypair[_0xf8acf9(0x126)](_0x3a6650);}else console[_0xf8acf9(0x112)](a82_0x5e5fe6['red'](_0xf8acf9(0x11e)+_0x1d7a68+'\x20does\x20not\x20exist.')),process[_0xf8acf9(0x12e)](0x1);}async function closeAccounts(){const _0x461dde=a82_0x57a5,_0x47cc20=await loadConfig(),_0x25da2c=_0x47cc20[_0x461dde(0xfc)],_0x591d4a=_0x47cc20[_0x461dde(0x113)],_0x54a1ff=_0x47cc20['BLOCK_ENGINE_URL'],_0x339c56=new Connection(_0x25da2c,{'commitment':_0x461dde(0xf3),'wsEndpoint':_0x591d4a}),_0x26f5c8=await loadWallets(),_0x5adaa2=await loadDevWallet(_0x47cc20[_0x461dde(0x122)]),_0x57744d=Keypair[_0x461dde(0x126)](new Uint8Array(a82_0x3c3e36[_0x461dde(0xe0)](_0x47cc20[_0x461dde(0x133)]))),_0x32bd38=0x5;let _0x4bc659=[];for(let _0x25af34=0x0;_0x25af34<_0x26f5c8[_0x461dde(0x100)];_0x25af34++){const _0xc61a40=_0x26f5c8[_0x25af34];console[_0x461dde(0xf6)](a82_0x5e5fe6[_0x461dde(0x114)](_0x461dde(0xfd)+(_0x25af34+0x1)+':\x20'+_0xc61a40[_0x461dde(0x11a)]));const _0x33cbfb=new PublicKey(_0xc61a40[_0x461dde(0x11a)]),_0x21cbdd=Keypair[_0x461dde(0x126)](new Uint8Array(a82_0x3c3e36[_0x461dde(0xe0)](_0xc61a40['privKey']))),_0x742d04=await _0x339c56[_0x461dde(0xf8)](_0x33cbfb,{'programId':TOKEN_PROGRAM_ID});console[_0x461dde(0xf6)](a82_0x5e5fe6[_0x461dde(0x114)]('Found\x20'+_0x742d04[_0x461dde(0x12f)][_0x461dde(0x100)]+_0x461dde(0x103)+_0xc61a40[_0x461dde(0x11a)]));for(const _0x5ae05d of _0x742d04['value']){try{const _0x267f83=await _0x339c56[_0x461dde(0xed)](_0x5ae05d[_0x461dde(0x12a)]);_0x267f83[_0x461dde(0x12f)][_0x461dde(0xe9)]==='0'&&(console[_0x461dde(0xf6)](_0x461dde(0x12d)+_0x5ae05d[_0x461dde(0x12a)][_0x461dde(0xde)]()+_0x461dde(0x125)),_0x4bc659[_0x461dde(0x117)]({'account':_0x5ae05d,'walletAddress':_0x33cbfb,'payer':_0x21cbdd}));}catch(_0x24e711){console[_0x461dde(0x112)](a82_0x5e5fe6['red']('Error\x20processing\x20account\x20'+_0x5ae05d[_0x461dde(0x12a)][_0x461dde(0xde)]()+':',_0x24e711));}}console['log'](a82_0x5e5fe6[_0x461dde(0x114)](_0x461dde(0xf9)+_0x4bc659[_0x461dde(0x100)]+_0x461dde(0x110)+_0xc61a40[_0x461dde(0x11a)]));}if(_0x4bc659['length']===0x0){console['log'](a82_0x5e5fe6[_0x461dde(0xfb)](_0x461dde(0xff)));return;}const _0x5b47d1=chunkArray(_0x4bc659,_0x32bd38);console[_0x461dde(0xf6)](a82_0x5e5fe6[_0x461dde(0x114)](_0x461dde(0x115)+_0x5b47d1[_0x461dde(0x100)]+_0x461dde(0x12b)));for(let _0x2f1930=0x0;_0x2f1930<_0x5b47d1[_0x461dde(0x100)];_0x2f1930++){const _0x4ebfe3=_0x5b47d1[_0x2f1930];console[_0x461dde(0xf6)](a82_0x5e5fe6[_0x461dde(0xfb)](_0x461dde(0x107)+(_0x2f1930+0x1)+_0x461dde(0x101)+_0x5b47d1[_0x461dde(0x100)]));const _0x19faa6=_0x2f1930===_0x5b47d1[_0x461dde(0x100)]-0x1,_0x44475e=_0x4ebfe3['map'](_0x31b9ab=>_0x31b9ab[_0x461dde(0x105)]),_0x1115a9=await createCloseWithTip(_0x4ebfe3[_0x461dde(0xf1)](_0x583de8=>_0x583de8[_0x461dde(0xe8)][_0x461dde(0x12a)]),_0x57744d[_0x461dde(0xee)],_0x5adaa2,_0x44475e,_0x339c56,_0x47cc20,_0x19faa6);if(_0x1115a9){const _0xbb9b1f=new Bundle([]);_0xbb9b1f[_0x461dde(0x128)](_0x1115a9),console[_0x461dde(0xf6)](_0x461dde(0x130));try{const _0x17a45d=await sendBundle2(_0xbb9b1f,_0x54a1ff);console[_0x461dde(0xf6)](_0x461dde(0x129)+_0x17a45d),console['log'](_0x461dde(0xe4));}catch(_0x28bed7){if(_0x28bed7['message'][_0x461dde(0xec)](_0x461dde(0x11d))){console[_0x461dde(0xf6)](a82_0x5e5fe6[_0x461dde(0x114)](_0x461dde(0xe2)));return;}console['error'](_0x461dde(0x111),_0x28bed7);}}_0x2f1930<_0x5b47d1[_0x461dde(0x100)]-0x1&&(console[_0x461dde(0xf6)](_0x461dde(0x10b)),await new Promise(_0x16e3b6=>setTimeout(_0x16e3b6,0x3e8)));}}function chunkArray(_0x4f7726,_0x52163e){const _0x4d5ad3=a82_0x57a5,_0x1b4c58=[];for(let _0x5223a1=0x0;_0x5223a1<_0x4f7726['length'];_0x5223a1+=_0x52163e){_0x1b4c58['push'](_0x4f7726[_0x4d5ad3(0xf0)](_0x5223a1,_0x5223a1+_0x52163e));}return _0x1b4c58;}async function createCloseWithTip(_0x381a45,_0x3fdc10,_0x1398b2,_0x5d8352,_0x3a901d,_0x499f7a,_0x2400b1){const _0x21a91e=a82_0x57a5,_0x411962=Keypair[_0x21a91e(0x126)](new Uint8Array(a82_0x3c3e36[_0x21a91e(0xe0)](_0x499f7a[_0x21a91e(0x127)]))),_0x49a754=Keypair[_0x21a91e(0x126)](new Uint8Array(a82_0x3c3e36['decode'](_0x499f7a['SENDER']))),_0x2845c7=_0x499f7a[_0x21a91e(0xfe)],_0x30d625=_0x2845c7*0x3b9aca00,_0x4ba037=[],_0x43822b=[];for(let _0x464eef=0x0;_0x464eef<_0x381a45[_0x21a91e(0x100)];_0x464eef++){const _0x3a1a6b=_0x381a45[_0x464eef];try{const _0x44c984=await _0x3a901d[_0x21a91e(0xed)](_0x3a1a6b);if(_0x44c984['value'][_0x21a91e(0xe9)]!=='0')continue;}catch(_0xede516){console[_0x21a91e(0x112)](a82_0x5e5fe6['red'](_0x21a91e(0x131)+_0x3a1a6b[_0x21a91e(0xde)]()+':',_0xede516));continue;}const _0x286c0b=_0x5d8352[_0x464eef],_0x56baf0=createCloseAccountInstruction(_0x3a1a6b,_0x49a754[_0x21a91e(0xee)],_0x286c0b[_0x21a91e(0xee)]);_0x4ba037['push'](new TransactionInstruction({'keys':[{'pubkey':_0x3a1a6b,'isSigner':![],'isWritable':!![]},{'pubkey':_0x49a754[_0x21a91e(0xee)],'isSigner':![],'isWritable':!![]},{'pubkey':_0x286c0b[_0x21a91e(0xee)],'isSigner':!![],'isWritable':![]}],'programId':TOKEN_PROGRAM_ID,'data':_0x56baf0[_0x21a91e(0x109)]})),_0x43822b[_0x21a91e(0x117)](_0x286c0b);}if(_0x4ba037[_0x21a91e(0x100)]===0x0)return console[_0x21a91e(0xf6)](a82_0x5e5fe6['yellow'](_0x21a91e(0x119))),null;const _0x5d3573=[_0x21a91e(0x11c),_0x21a91e(0x11f),'Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY',_0x21a91e(0x121),_0x21a91e(0xf4),_0x21a91e(0x116),_0x21a91e(0xdd),_0x21a91e(0x106)],_0x53db4a=Math[_0x21a91e(0xe3)](Math[_0x21a91e(0xf2)]()*_0x5d3573[_0x21a91e(0x100)]),_0x1765d5=new PublicKey(_0x5d3573[_0x53db4a]),_0x47f31f=await _0x3a901d['getLatestBlockhash'](_0x21a91e(0x108)),_0x13da2b=_0x47f31f['blockhash'];if(_0x2400b1){const _0x2a4d7c=SystemProgram[_0x21a91e(0x118)]({'fromPubkey':_0x411962['publicKey'],'toPubkey':_0x1765d5,'lamports':_0x30d625});_0x4ba037[_0x21a91e(0x117)](_0x2a4d7c);}const _0x44546a=new TransactionMessage({'payerKey':_0x49a754[_0x21a91e(0xee)],'instructions':_0x4ba037,'recentBlockhash':_0x13da2b})[_0x21a91e(0xfa)](),_0x5ac636=new VersionedTransaction(_0x44546a);return _0x2400b1?_0x5ac636[_0x21a91e(0x120)]([_0x49a754,_0x411962,..._0x43822b]):_0x5ac636[_0x21a91e(0x120)]([_0x49a754,..._0x43822b]),_0x5ac636;}export default closeAccounts;